params {
    // Run parameters
    //input = "/hpc/pmc_vanheesch/projects/Marina/dev/nf_rna_pipeline/test/documentation/test_samplesheet.csv"
    input = "/hpc/pmc_vanheesch/projects/evanderwerf/nf_rna_pipeline_project/small_samplesheet.csv"
    project_folder = "/hpc/pmc_vanheesch/projects/Marina/nf_rna_pipelie/test/"
    outdir         = "${project_folder}/analysis/filter_annotate_test"

    // Toggle modules
    qc               = true
    align            = true
    assembly         = true
    merge            = true
    build_annotation = true
    fusions          = false
    expression       = true
    expression_mode  = "sq"

    // Optional parameters
    stringtie_expression = true // Use the stringtie assembled gtf as reference transcriptome
    //sample_gtf_list   = "${outdir}/stringtie/gtflist.txt"
    merged_gtf_basename = "test"
    //wgs_sv              = "${project_folder}analysis/gridss/PMGBM048AAC_PMCRZ911PGO.gripss.somatic.filtered.vcf.gz"
    wgs_sv = ""

    // Reference parameters (optional)
    species        = "Homo_sapiens"
    genome_version = "GRCh38"
    annot_version  = "102"

    //Set paths (optional)
    resource_folder  = "/hpc/pmc_vanheesch/shared_resources"
    container_folder = "/hpc/local/Rocky8/pmc_vanheesch/singularity_images/"

    // Set reference files
    star_index_basedir      = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/STAR/2.7.8a"
    reference_gtf           = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/annotation/${species}.${genome_version}.${annot_version}.gtf"
    reference_transcriptome = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/${species}.${genome_version}.cdna.all.fa"
    refseq_gtf              = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/annotation/${species}.${genome_version}.p13"
    masked_fasta            = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/${species}.${genome_version}.dna_sm.primary_assembly.fa"
    twobit                  = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/${species}.${genome_version}.dna.primary_assembly.2bit"
    kallisto_index          = "${resource_folder}/GENOMES/${species}.${genome_version}/${annot_version}/kallisto/0.44/kallisto_index"
    arriba_reference        = "/hpc/pmc_vanheesch/projects/Marina/test/arriba/references/104/"

    // Salmon index for testing purposes, remove later
    salmon_index_test = "/hpc/pmc_vanheesch/projects/evanderwerf/nf_rna_pipeline_project/salmon_index"
}

// Add general singularity run options for HPC
singularity {
    runOptions = '-B "/hpc:/hpc" --env "LC_ALL=C.UTF-8"'
}

// Set containers each process
// TODO: when pipeline is done try to create one big container
process {
    withName:fastp {
        container = "${params.container_folder}/fastp_0.23.4--hadf994f_2.sif"
    }
    withName:checkStrand {
        container = "${params.container_folder}/howarewestrandedhere-1.0.1a.sif"
    }
    withName:STAR {
        container = "${params.container_folder}/STAR-2.7.8a.sif"
    }
    withLabel:samtools {
        container = "${params.container_folder}/samtools-1.12.sif"
    }
    withName:stringtie {
        container = "${params.container_folder}/stringtie-2.1.5.sif"
    }
    withName:transcriptome_fasta{
        container = "${params.container_folder}/gffread-0.12.6.sif"
    }
    withName:mergeGTF {
        container = "${params.container_folder}/gffcompare-0.12.6.sif"
    }
    withName:filterAnnotate {
        container = "${params.container_folder}/r_rna_filter-4.1.2.sif"
    }
    withName:customAnotation {
        container = "${params.container_folder}/orfquant-4.1.2.sif"
    }
    withLabel:fusions {
        container = "${params.container_folder}/arriba-2.4.0.sif"
    }
    withLabel:salmon {
        container = "${params.container_folder}/salmon-1.8.0.sif"
    }
    withLabel:salmon_tables {
        container = "${params.container_folder}/nf_rna_seq_r-1.0.0.sif"
    }
    withLabel:featurecounts {
        container = "${params.container_folder}/subread-2.0.2.sif"
    }

}

